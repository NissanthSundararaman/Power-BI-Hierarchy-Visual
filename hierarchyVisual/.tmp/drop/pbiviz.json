{"visual":{"name":"hierarchyVisual","displayName":"HierarchyVisual","guid":"hierarchyVisual6AFF1A11D3294398B2B7532DDDEEFAEF","visualClassName":"Visual","version":"1.0.0.0","description":"A hierarchy visual with grouping, display values, and expand/collapse support.","supportUrl":"https://your-support-url.com","gitHubUrl":""},"author":{"name":"Your Name","email":"your.email@example.com"},"apiVersion":"5.3.0","style":"style/visual.less","stringResources":{},"capabilities":{"dataRoles":[{"displayName":"Parent ID","name":"parentid","kind":"Grouping"},{"displayName":"Child ID","name":"childid","kind":"Grouping"},{"displayName":"Display Value","name":"displayvalue","kind":"Grouping"},{"displayName":"Data Field","name":"datafield","kind":"Grouping"}],"objects":{"dataPoint":{"displayName":"Image Size","properties":{"imageHeight":{"type":{"numeric":true}},"imageWidth":{"type":{"numeric":true}}}},"values":{"displayName":"Values","properties":{"valuesFontFamily":{"type":{"text":true}},"valuesFontSize":{"type":{"numeric":true}},"valuesBold":{"type":{"bool":true}},"valuesTextColor":{"type":{"fill":{"solid":{"color":true}}}},"valuesBackgroundColor":{"type":{"fill":{"solid":{"color":true}}}}}},"header":{"displayName":"Column header","properties":{"headerFontFamily":{"type":{"text":true}},"headerFontSize":{"type":{"numeric":true}},"headerBold":{"type":{"bool":true}},"headerTextColor":{"type":{"fill":{"solid":{"color":true}}}},"headerBackgroundColor":{"type":{"fill":{"solid":{"color":true}}}},"headerAlignment":{"type":{"enumeration":[{"value":"left","displayName":"Left"},{"value":"center","displayName":"Center"},{"value":"right","displayName":"Right"}]}}}},"hierarchyIcon":{"displayName":"Hierarchy icon","properties":{"hierarchyIconSize":{"type":{"numeric":true}},"hierarchyIconColor":{"type":{"fill":{"solid":{"color":true}}}}}},"conditionalFormatting":{"displayName":"Conditional Formatting","properties":{"enable":{"displayName":"Enable Conditional Formatting","type":{"bool":true}},"column":{"displayName":"Column Name","type":{"text":true}},"operator":{"displayName":"Operator","type":{"enumeration":[{"value":"equals","displayName":"Equals"},{"value":"notequals","displayName":"Not Equals"},{"value":"contains","displayName":"Contains"},{"value":"notcontains","displayName":"Not Contains"},{"value":"greaterthan","displayName":"> (Greater Than)"},{"value":"lessthan","displayName":"< (Less Than)"},{"value":"greaterthanorequal","displayName":">= (Greater Than or Equal)"},{"value":"lessthanorequal","displayName":"<= (Less Than or Equal)"}]}},"value":{"displayName":"Value","type":{"text":true}},"color":{"displayName":"Highlight Color","type":{"fill":{"solid":{"color":true}}}}}}},"dataViewMappings":[{"categorical":{"categories":{"select":[{"for":{"in":"parentid"}},{"for":{"in":"childid"}},{"for":{"in":"displayvalue"}},{"for":{"in":"datafield"}}],"dataReductionAlgorithm":{"top":{}}}}}],"privileges":[]},"content":{"js":"var hierarchyVisual6AFF1A11D3294398B2B7532DDDEEFAEF;(()=>{\"use strict\";var e={210:e=>{e.exports=null},408:(e,t,a)=>{a.d(t,{S:()=>u});var o=a(674),i=(a(210),o.z.Tn),l=o.z.Kx;class s extends i{imageHeight=new o.z.iB({name:\"imageHeight\",displayName:\"Image Height (px)\",value:40});imageWidth=new o.z.iB({name:\"imageWidth\",displayName:\"Image Width (px)\",value:40});name=\"dataPoint\";displayName=\"Image Size\";slices=[this.imageHeight,this.imageWidth]}class n extends i{fontFamily=new o.z.Cx({name:\"valuesFontFamily\",displayName:\"Font\",value:\"Segoe UI\"});fontSize=new o.z.iB({name:\"valuesFontSize\",displayName:\"Font Size\",value:10});bold=new o.z.jF({name:\"valuesBold\",displayName:\"Bold\",value:!1});textColor=new o.z.sk({name:\"valuesTextColor\",displayName:\"Text color\",value:{value:\"#000000\"}});backgroundColor=new o.z.sk({name:\"valuesBackgroundColor\",displayName:\"Background color\",value:{value:\"#FFFFFF\"}});name=\"values\";displayName=\"Values\";slices=[this.fontFamily,this.fontSize,this.bold,this.textColor,this.backgroundColor]}class r extends i{fontFamily=new o.z.Cx({name:\"headerFontFamily\",displayName:\"Font\",value:\"Segoe UI\"});fontSize=new o.z.iB({name:\"headerFontSize\",displayName:\"Font Size\",value:12});bold=new o.z.jF({name:\"headerBold\",displayName:\"Bold\",value:!0});textColor=new o.z.sk({name:\"headerTextColor\",displayName:\"Text color\",value:{value:\"#000000\"}});backgroundColor=new o.z.sk({name:\"headerBackgroundColor\",displayName:\"Background color\",value:{value:\"#FFFFFF\"}});horizontalAlignment=new o.z.$n({name:\"headerAlignment\",displayName:\"Horizontal alignment\",mode:\"horizontalAlignment\",value:\"left\"});name=\"header\";displayName=\"Column header\";slices=[this.fontFamily,this.fontSize,this.bold,this.textColor,this.backgroundColor,this.horizontalAlignment]}class c extends i{hierarchyIconSize=new o.z.iB({name:\"hierarchyIconSize\",displayName:\"Icon Size (px)\",value:16});hierarchyIconColor=new o.z.sk({name:\"hierarchyIconColor\",displayName:\"Icon Color\",value:{value:\"#000000\"}});name=\"hierarchyIcon\";displayName=\"Hierarchy icon\";slices=[this.hierarchyIconSize,this.hierarchyIconColor]}class d extends i{enable=new o.z.jF({name:\"enable\",displayName:\"Enable Conditional Formatting\",value:!1});column=new o.z.ks({name:\"column\",displayName:\"Column Name\",value:\"\",placeholder:\"Enter column name as shown in table header\"});operator=new o.z.PA({name:\"operator\",displayName:\"Operator\",items:[{value:\"equals\",displayName:\"Equals\"},{value:\"notequals\",displayName:\"Not Equals\"},{value:\"contains\",displayName:\"Contains\"},{value:\"notcontains\",displayName:\"Not Contains\"},{value:\"greaterthan\",displayName:\"> (Greater Than)\"},{value:\"lessthan\",displayName:\"< (Less Than)\"},{value:\"greaterthanorequal\",displayName:\">= (Greater Than or Equal)\"},{value:\"lessthanorequal\",displayName:\"<= (Less Than or Equal)\"}],value:{value:\"equals\",displayName:\"Equals\"}});value=new o.z.ks({name:\"value\",displayName:\"Value\",value:\"\",placeholder:\"Enter value to match (supports string, number, boolean)\"});color=new o.z.sk({name:\"color\",displayName:\"Highlight Color\",value:{value:\"#FFFF00\"}});name=\"conditionalFormatting\";displayName=\"Conditional Formatting\";slices=[this.enable,this.column,this.operator,this.value,this.color]}class u extends l{dataPointCard=new s;valuesCard=new n;headerCard=new r;hierarchyIconCard=new c;conditionalFormattingCard=new d;cards=[this.dataPointCard,this.valuesCard,this.headerCard,this.hierarchyIconCard,this.conditionalFormattingCard]}},639:(e,t,a)=>{function o(e,t){return{objectName:e,propertyName:t.name,selector:t.selector,altConstantValueSelector:t.altConstantSelector,instanceKind:t.instanceKind}}function i(e,t,a){return null==t||\"object\"==typeof t&&!t.solid?a:t.solid?{value:null==t?void 0:t.solid.color}:\"Dropdown\"===(null==e?void 0:e.type)&&e.items?e.items.find((e=>e.value==t)):t}a.d(t,{D:()=>i,y:()=>o})},657:(e,t,a)=>{a.d(t,{b:()=>l});var o=a(674),i=a(408);class l{target;formattingSettings;formattingSettingsService;columnWidths=null;host;constructor(e){this.formattingSettingsService=new o.O,this.target=e.element,this.host=e.host}update(e){console.log(\"Visual update called\",this.formattingSettings?.valuesCard),this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(i.S,e.dataViews[0]),this.target.innerHTML=\"\";const t=e.dataViews&&e.dataViews[0];if(!t||!t.categorical)return;const a=t.categorical.categories,o=a.find((e=>e.source.roles&&e.source.roles.parentid)),l=a.find((e=>e.source.roles&&e.source.roles.childid)),s=a.find((e=>e.source.roles&&e.source.roles.displayvalue));if(a.filter((e=>e.source.roles&&e.source.roles.datafield)),!o||!l||!s)return void(this.target.innerText=\"Please provide Parent ID, Child ID, and Display Value fields.\");const n=[],r=a[0].values.length;for(let e=0;e<r;e++){const t={};a.forEach((a=>{a.source.roles.parentid?t.parentid=a.values[e]:a.source.roles.childid?t.childid=a.values[e]:a.source.roles.displayvalue?t.displayvalue=a.values[e]:a.source.roles.datafield&&(t[a.source.displayName]=a.values[e])})),n.push(t)}const c=new Map;n.forEach((e=>{const t=`${e.parentid}|${e.childid}`;c.has(t)||c.set(t,[]),c.get(t).push(e)}));const d=Array.from(c.entries()).map((([e,t])=>{const{parentid:a,childid:o}=t[0];return{parentid:a,childid:o,groupRows:t,children:[]}})),u=new Map;d.forEach((e=>u.set(e.childid,e)));let p=[];d.forEach((e=>{u.has(e.parentid)?u.get(e.parentid).children.push(e):p.push(e)}));const m=document.createElement(\"div\");m.style.overflow=\"auto\",m.style.height=\"100%\",m.style.maxHeight=\"100%\",m.style.width=\"100%\",m.style.whiteSpace=\"nowrap\",m.style.position=\"relative\";const h=document.createElement(\"table\");h.style.width=\"auto\",h.style.borderCollapse=\"collapse\",h.style.tableLayout=\"fixed\",h.className=\"custom-hierarchy-table\",h.style.margin=\"0\",h.style.padding=\"0\",h.style.background=\"#fff\";const y=this.formattingSettings?.valuesCard,g=this.formattingSettings?.headerCard,v=document.createElement(\"thead\"),f=document.createElement(\"tr\"),w=a.filter((e=>!e.source.roles.parentid&&!e.source.roles.childid)).map((e=>e.source.displayName)),b=document.createElement(\"th\");b.textContent=s.source.displayName,b.className=\"custom-table-header\",b.style.width=\"50px\",b.style.overflow=\"hidden\",b.style.whiteSpace=\"nowrap\",b.style.textOverflow=\"ellipsis\",b.style.position=\"sticky\",b.style.top=\"0\",b.style.zIndex=\"2\",g&&(b.style.fontFamily=g.fontFamily?.value||\"Segoe UI\",b.style.fontSize=(g.fontSize?.value||12)+\"px\",b.style.color=g.textColor?.value?.value||\"#000\",b.style.background=g.backgroundColor?.value?.value||\"#fff\",b.style.fontWeight=g.bold?.value?\"bold\":\"normal\",b.style.textAlign=g.horizontalAlignment?.value||\"left\"),f.appendChild(b),w.forEach(((e,t)=>{if(e!==s.source.displayName){const t=document.createElement(\"th\");t.textContent=e,t.className=\"custom-table-header\",t.style.overflow=\"hidden\",t.style.whiteSpace=\"nowrap\",t.style.textOverflow=\"ellipsis\",t.style.width=\"120px\",t.style.position=\"sticky\",t.style.top=\"0\",t.style.zIndex=\"2\",g&&(t.style.fontFamily=g.fontFamily?.value||\"Segoe UI\",t.style.fontSize=(g.fontSize?.value||12)+\"px\",t.style.color=g.textColor?.value?.value||\"#000\",t.style.background=g.backgroundColor?.value?.value||\"#fff\",t.style.fontWeight=g.bold?.value?\"bold\":\"normal\",t.style.textAlign=g.horizontalAlignment?.value||\"left\"),f.appendChild(t)}})),v.appendChild(f),h.appendChild(v);const C={};function S(e,t){t&&(e.querySelectorAll(\"th\").forEach(((e,a)=>{void 0!==t[a]&&(e.style.width=t[a]+\"px\",e.style.minWidth=t[a]+\"px\",e.style.maxWidth=t[a]+\"px\")})),e.querySelectorAll(\"tr\").forEach((e=>{e.querySelectorAll(\"th, td\").forEach(((e,a)=>{void 0!==t[a]&&(e.style.width=t[a]+\"px\",e.style.minWidth=t[a]+\"px\",e.style.maxWidth=t[a]+\"px\")}))})))}p.forEach((e=>C[e.childid]=!0));const N=this;let x=this.formattingSettings?.dataPointCard?.imageHeight?.value,F=this.formattingSettings?.dataPointCard?.imageWidth?.value;void 0===x&&(x=20),void 0===F&&(F=20),x===F||100!==F&&40!==F&&void 0!==F||(F=x);const z=this.formattingSettings?.conditionalFormattingCard;function E(e){return null!=e&&!isNaN(Number(e))}function D(e){if(\"boolean\"==typeof e)return!0;if(\"number\"==typeof e)return 1===e||0===e;if(\"string\"==typeof e){const t=e.trim().toLowerCase();return\"true\"===t||\"false\"===t||\"yes\"===t||\"no\"===t||\"1\"===t||\"0\"===t}return!1}function k(e){if(\"boolean\"==typeof e)return e;if(\"number\"==typeof e)return 1===e;if(\"string\"==typeof e){const t=e.trim().toLowerCase();if(\"true\"===t||\"yes\"===t||\"1\"===t)return!0;if(\"false\"===t||\"no\"===t||\"0\"===t)return!1}}const I=(e,t=0)=>{const a=e.children&&e.children.length>0;e.groupRows.forEach(((e,a)=>{const o=document.createElement(\"tr\");let i=null;(function(e){if(!(z&&!0===z.enable.value&&z.column.value&&z.operator.value&&z.value.value))return!1;let t=z.column.value?String(z.column.value):\"\";console.log(\"[CF] allHeaders:\",w,\"col:\",t);let a=w.find((e=>e.trim().toLowerCase()===t.trim().toLowerCase()));if(!a)return console.log(\"[CF] No matching column found for:\",t,\"in\",w),!1;const o=z.operator.value?String(z.operator.value.value).trim().toLowerCase():\"\",i=z.value.value,l=e[a];if(console.log(\"[CF] row:\",e,\"actualCol:\",a,\"cell:\",l,\"val:\",i,\"opRaw:\",o),D(l)&&D(i)){const e=k(l),t=k(i);if(void 0===e||void 0===t)return!1;switch(o){case\"equals\":return e===t;case\"notequals\":return e!==t;default:if(\"string\"==typeof l&&\"string\"==typeof i){if(\"contains\"===o)return l.trim().toLowerCase().includes(i.trim().toLowerCase());if(\"notcontains\"===o)return!l.trim().toLowerCase().includes(i.trim().toLowerCase())}return!1}}if(E(l)&&E(i)){const e=Number(l),t=Number(i);switch(o){case\"equals\":return e===t;case\"notequals\":return e!==t;case\"greaterthan\":return e>t;case\"lessthan\":return e<t;case\"greaterthanorequal\":return e>=t;case\"lessthanorequal\":return e<=t;default:return!1}}const s=String(l).trim().toLowerCase(),n=String(i).trim().toLowerCase();switch(o){case\"equals\":return s===n;case\"notequals\":return s!==n;case\"contains\":return s.includes(n);case\"notcontains\":return!s.includes(n);default:return!1}})(e)&&(i=z&&z.color&&z.color.value&&z.color.value.value?z.color.value.value:\"#FF0000\"),i&&(o.style.background=i,o.style.setProperty(\"background-color\",i,\"important\"));const l=document.createElement(\"td\");if(l.style.paddingLeft=24*t+8+\"px\",l.style.overflow=\"hidden\",l.style.whiteSpace=\"nowrap\",l.style.textOverflow=\"ellipsis\",l.title=e.displayvalue,i&&l.style.setProperty(\"background\",i,\"important\"),0===a&&t>0){const e=this.formattingSettings?.hierarchyIconCard?.hierarchyIconSize?.value||16,t=this.formattingSettings?.hierarchyIconCard?.hierarchyIconColor?.value?.value||\"#000000\",a=document.createElement(\"span\");a.style.display=\"inline-block\",a.style.verticalAlign=\"middle\",a.style.width=e+\"px\",a.style.height=e+\"px\",a.style.marginRight=\"4px\",a.innerHTML=`<svg width=\"${e}\" height=\"${e}\" viewBox=\"0 0 16 16\" style=\"display:block\"><path d=\"M4 0 v12 h8\" stroke=\"${t}\" stroke-width=\"2\" fill=\"none\"/></svg>`,l.appendChild(a)}else if(t>0){const e=this.formattingSettings?.hierarchyIconCard?.hierarchyIconSize?.value||16,t=document.createElement(\"span\");t.style.display=\"inline-block\",t.style.width=e+\"px\",t.style.height=e+\"px\",t.style.marginRight=\"4px\",l.appendChild(t)}const n=document.createElement(\"span\");n.textContent=e.displayvalue,l.appendChild(n),y&&(l.style.setProperty(\"font-family\",y.fontFamily?.value||\"Segoe UI\",\"important\"),l.style.setProperty(\"font-size\",(y.fontSize?.value||10)+\"px\",\"important\"),l.style.setProperty(\"font-weight\",y.bold?.value?\"bold\":\"normal\",\"important\"),l.style.setProperty(\"color\",y.textColor?.value?.value||\"#000\",\"important\"),l.style.setProperty(\"background\",y.backgroundColor?.value?.value||\"#fff\",\"important\")),i&&l.style.setProperty(\"background\",i,\"important\"),o.appendChild(l),w.forEach(((t,a)=>{if(t!==s.source.displayName){const a=document.createElement(\"td\");if(a.style.overflow=\"hidden\",a.style.whiteSpace=\"nowrap\",a.style.textOverflow=\"ellipsis\",a.style.width=\"120px\",a.title=e[t],i&&a.style.setProperty(\"background\",i,\"important\"),y&&(a.style.setProperty(\"font-family\",y.fontFamily?.value||\"Segoe UI\",\"important\"),a.style.setProperty(\"font-size\",(y.fontSize?.value||10)+\"px\",\"important\"),a.style.setProperty(\"font-weight\",y.bold?.value?\"bold\":\"normal\",\"important\"),a.style.setProperty(\"color\",y.textColor?.value?.value||\"#000\",\"important\"),a.style.setProperty(\"background\",y.backgroundColor?.value?.value||\"#fff\",\"important\")),i&&a.style.setProperty(\"background\",i,\"important\"),\"string\"==typeof e[t]&&e[t].match(/^data:image\\/(png|jpeg|jpg|gif|svg\\+xml);base64,/)){const o=document.createElement(\"img\");o.src=e[t],o.alt=t,o.style.display=\"block\",o.style.margin=\"0 auto\",o.style.maxWidth=F+\"px\",o.style.maxHeight=x+\"px\",o.width=F,o.height=x,a.appendChild(o)}else if(\"string\"==typeof e[t]&&e[t].match(/^(https?:\\/\\/|www\\.)[\\w\\-]+(\\.[\\w\\-]+)+([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?$/)){const o=document.createElement(\"a\"),i=e[t].startsWith(\"http\")?e[t]:\"http://\"+e[t];o.href=i,o.style.textDecoration=\"none\",o.style.display=\"inline-flex\",o.style.alignItems=\"center\",o.style.cursor=\"pointer\";const l=document.createElement(\"span\");l.innerHTML='<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10 13a5 5 0 0 1 7 7l-3 3a5 5 0 0 1-7-7\"/><path d=\"M14 11a5 5 0 0 0-7-7l-3 3a5 5 0 0 0 7 7\"/></svg>',l.style.marginRight=\"4px\",o.appendChild(l);const s=document.createElement(\"span\");s.textContent=\"Open Link\",o.appendChild(s),o.onclick=e=>{e.preventDefault(),this.host&&this.host.launchUrl?this.host.launchUrl(i):window.open(i,\"_blank\")},a.appendChild(o)}else{const o=document.createElement(\"span\");o.textContent=e[t],a.appendChild(o)}o.appendChild(a)}})),h.appendChild(o)})),a&&e.children.forEach((e=>I(e,t+1)))};!function(){for(;h.rows.length>1;)h.deleteRow(1);p.forEach((e=>I(e)));let e=h.querySelectorAll(\"th\");N.columnWidths||(N.columnWidths=Array.from(e).map((e=>e.offsetWidth))),S(h,N.columnWidths)}(),function(e){let t,a,o,i;e.style.tableLayout=\"fixed\",e.querySelectorAll(\"th\").forEach(((e,l)=>{e.style.position=\"relative\",e.style.overflow=\"hidden\",e.style.whiteSpace=\"nowrap\",e.style.textOverflow=\"ellipsis\",e.style.minWidth=\"1px\";const r=document.createElement(\"div\");r.style.position=\"absolute\",r.style.right=\"0\",r.style.top=\"0\",r.style.width=\"8px\",r.style.height=\"100%\",r.style.cursor=\"col-resize\",r.style.userSelect=\"none\",r.addEventListener(\"mousedown\",(function(r){r.preventDefault(),o=e,i=l,t=r.pageX,a=o.offsetWidth,document.body.style.cursor=\"col-resize\",document.addEventListener(\"mousemove\",s),document.addEventListener(\"mouseup\",n)})),e.appendChild(r)}));const l=this;function s(s){if(!o)return;const n=Math.max(1,a+(s.pageX-t));l.columnWidths||(l.columnWidths=Array.from(e.querySelectorAll(\"th\")).map((e=>e.offsetWidth))),l.columnWidths[i]=n,S(e,l.columnWidths)}function n(){document.body.style.cursor=\"\",document.removeEventListener(\"mousemove\",s),document.removeEventListener(\"mouseup\",n),o=null}}.call(this,h),m.appendChild(h),this.target.appendChild(m)}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}}},667:(e,t,a)=>{a.d(t,{A:()=>i});var o=a(754);const i=class{constructor(e){this.localizationManager=e}populateFormattingSettingsModel(e,t){var a,i;const l=new e,s=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.objects;return s&&(null===(i=l.cards)||void 0===i||i.forEach((e=>{var t;e instanceof o.St&&(null===(t=e.topLevelSlice)||void 0===t||t.setPropertiesValues(s,e.name)),(e instanceof o.Tn?[e]:e.groups).forEach((t=>{var a,o,i,l;null===(a=t.topLevelSlice)||void 0===a||a.setPropertiesValues(s,e.name),null===(o=null==t?void 0:t.slices)||void 0===o||o.forEach((t=>{null==t||t.setPropertiesValues(s,e.name)})),null===(l=null===(i=null==t?void 0:t.container)||void 0===i?void 0:i.containerItems)||void 0===l||l.forEach((t=>{var a;null===(a=null==t?void 0:t.slices)||void 0===a||a.forEach((t=>{null==t||t.setPropertiesValues(s,e.name)}))}))}))}))),l}buildFormattingModel(e){const t={cards:[]};return e.cards.filter((({visible:e=!0})=>e)).forEach((e=>{var a;const i={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,groups:[],uid:e.name+\"-card\",analyticsPane:e.analyticsPane},l=e.name;if(e.topLevelSlice){const t=e.topLevelSlice.getFormattingSlice(l,this.localizationManager);t.suppressDisplayName=!0,i.topLevelToggle=t}null===(a=e.onPreProcess)||void 0===a||a.call(e);const s=e instanceof o.Tn;(s?[e].filter((({visible:e=!0})=>e)):e.groups.filter((({visible:e=!0})=>e))).forEach((e=>{const t=e.name+\"-group\",a={displayName:s?void 0:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,description:s?void 0:this.localizationManager&&e.descriptionKey?this.localizationManager.getDisplayName(e.descriptionKey):e.description,slices:[],uid:t,collapsible:e.collapsible,delaySaveSlices:e.delaySaveSlices,disabled:e.disabled,disabledReason:e.disabledReason};i.groups.push(a);const o={};if(e.container){const i=e.container,s=t+\"-container\",n={displayName:this.localizationManager&&i.displayNameKey?this.localizationManager.getDisplayName(i.displayNameKey):i.displayName,description:this.localizationManager&&i.descriptionKey?this.localizationManager.getDisplayName(i.descriptionKey):i.description,containerItems:[],uid:s};i.containerItems.forEach((e=>{const t=e.displayNameKey?e.displayNameKey:e.displayName,a=s+t,i={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,slices:[],uid:a};this.buildFormattingSlices({slices:e.slices,objectName:l,sliceNames:o,formattingSlices:i.slices}),n.containerItems.push(i)})),a.container=n}if(e.slices){if(e.topLevelSlice){const t=e.topLevelSlice.getFormattingSlice(l,this.localizationManager);t.suppressDisplayName=!0,(null==a.displayName?i:a).topLevelToggle=t}this.buildFormattingSlices({slices:e.slices,objectName:l,sliceNames:o,formattingSlices:a.slices})}})),i.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(e),t.cards.push(i)})),t}buildFormattingSlices({slices:e,objectName:t,sliceNames:a,formattingSlices:o}){null==e||e.filter((({visible:e=!0})=>e)).forEach((e=>{const i=null==e?void 0:e.getFormattingSlice(t,this.localizationManager);i&&(void 0===a[e.name]?a[e.name]=0:(a[e.name]++,i.uid=`${i.uid}-${a[e.name]}`),o.push(i))}))}getRevertToDefaultDescriptor(e){var t;const a={},i=[];let l,s=[];return e instanceof o.St&&e.topLevelSlice&&i.push(...null===(t=e.topLevelSlice)||void 0===t?void 0:t.getRevertToDefaultDescriptor(e.name)),(e instanceof o.Tn?[e].filter((({visible:e=!0})=>e)):e.groups.filter((({visible:e=!0})=>e))).forEach((t=>{var o,n;l=this.getSlicesRevertToDefaultDescriptor(e.name,t.slices,a,t.topLevelSlice),null===(n=null===(o=t.container)||void 0===o?void 0:o.containerItems)||void 0===n||n.forEach((t=>{s=s.concat(this.getSlicesRevertToDefaultDescriptor(e.name,t.slices,a))})),i.push(...l.concat(s))})),i}getSlicesRevertToDefaultDescriptor(e,t,a,o){let i=[];return o&&(a[o.name]=!0,i=i.concat(o.getRevertToDefaultDescriptor(e))),null==t||t.forEach((t=>{t&&!a[t.name]&&(a[t.name]=!0,i=i.concat(t.getRevertToDefaultDescriptor(e)))})),i}}},674:(e,t,a)=>{a.d(t,{O:()=>i.A,z:()=>o});var o=a(754),i=a(667)},754:(e,t,a)=>{a.d(t,{$n:()=>d,Cx:()=>g,Kx:()=>s,PA:()=>h,St:()=>n,Tn:()=>r,iB:()=>m,jF:()=>u,ks:()=>y,sk:()=>p});var o=a(639);class i{}class l extends i{}class s{}class n extends i{}class r extends l{}class c extends i{constructor(e){super(),Object.assign(this,e)}getFormattingSlice(e,t){const a=this.type,o=this.name,i={displayName:t&&this.displayNameKey?t.getDisplayName(this.displayNameKey):this.displayName,description:t&&this.descriptionKey?t.getDisplayName(this.descriptionKey):this.description,uid:e+\"-\"+o};return Object.assign(Object.assign({},i),{control:{type:a,properties:this.getFormattingComponent(e,t)}})}getFormattingComponent(e,t){return{descriptor:o.y(e,this),value:this.value}}getRevertToDefaultDescriptor(e){return[{objectName:e,propertyName:this.name}]}setPropertiesValues(e,t){var a;const i=null===(a=null==e?void 0:e[t])||void 0===a?void 0:a[this.name];this.value=o.D(this,i,this.value)}}class d extends c{constructor(e){super(e),this.type=\"AlignmentGroup\"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{mode:this.mode,supportsNoSelection:this.supportsNoSelection})}}class u extends c{constructor(e){super(e),this.type=\"ToggleSwitch\"}}class p extends c{constructor(e){super(e),this.type=\"ColorPicker\"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class m extends c{constructor(e){super(e),this.type=\"NumUpDown\"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{options:this.options})}}class h extends c{constructor(e){super(e),this.type=\"Dropdown\"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{items:this.items})}}class y extends c{constructor(e){super(e),this.type=\"TextInput\"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{placeholder:this.placeholder})}}class g extends c{constructor(){super(...arguments),this.type=\"FontPicker\"}}}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var o={};(()=>{a.r(o),a.d(o,{default:()=>l});var e=a(657),t=window.powerbi,i={name:\"hierarchyVisual6AFF1A11D3294398B2B7532DDDEEFAEF\",displayName:\"HierarchyVisual\",class:\"Visual\",apiVersion:\"5.3.0\",create:t=>{if(e.b)return new e.b(t);throw\"Visual instance not found\"},createModalDialog:(e,t,a)=>{const o=globalThis.dialogRegistry;e in o&&new o[e](t,a)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.hierarchyVisual6AFF1A11D3294398B2B7532DDDEEFAEF=i);const l=i})(),hierarchyVisual6AFF1A11D3294398B2B7532DDDEEFAEF=o})();","css":"p {\n  font-size: 20px;\n  font-weight: bold;\n}\np em {\n  background: yellow;\n  padding: 5px;\n}\n.custom-hierarchy-table {\n  border-collapse: collapse;\n  width: 100%;\n  table-layout: auto;\n}\n.custom-hierarchy-table th,\n.custom-hierarchy-table td {\n  border: 1px solid #e0e0e0;\n  padding: 8px 12px;\n  text-align: left;\n  background: #fff;\n  font-size: 14px;\n}\n.custom-hierarchy-table th {\n  background: #f5f5f5;\n  font-weight: 600;\n  border-bottom: 2px solid #d0d0d0;\n  user-select: none;\n}\n.custom-hierarchy-table tr:hover td {\n  background: #f0f6ff;\n}\n\n","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NEY1QjA1NUQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NEY1QjA1NEQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Mjk5RDU1ODBGRDRFMDExQTcxQ0JFODI3ODBCQUE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDoNX0AAAI3SURBVHjarJRLSFVRFIY9t7SiRDGLoEEPCRJRaCSYkxCiFCXCF+LIMExQLkilgumgwkbdBuWDRC2EomhURCOjgagkXEgKLUKhidobM6H0+i34rxyPnuvEA5/rXPda/1l7739vJxKJxG3ls93+hEKhTILxJhgMftmsiPxdhHw4CfepeR8dCyjWwwB0kZy3iVgCoQ2ewnmXxhrBD7Cgr/ZQVA17fDRPw2UYhzK6G99IsBse6/0QNME+H8FT4EA/YiPqOgA1q4IMzBNuw6iKjkCpj+Av+AdnEEmD3bxfhzvuDk30HaEaLsEkXCO53rN+Bwg5qsvTuj/TjGYtx9nINhRmEx7AYWiFW7AXOuEcbPOUvIZ2mnrl+PkQUbNEh4QHNKUSDdsSBWEOlmxTEfvs26FL9Khe211if6Acgee+xo7xzMgBxfq9qPe3fgWBGN2lEnqtG9nExM7CV3jp3bDos2bKJB0nHFRxAxRpA/5CIXyHh5ABv6GZqd9dJ6iz2SjbxMMypGhJFtTlNzu3kK7xgDxpove8U66FK2A+s6nul5gVVMEL+Ak7lG/T+g9JcIOGar2CRUoogxMwpP/bLTJMB9bRhDbkk5bBUU0y3ES0xS04CBfN9RSHiY90vJK0BHaSzG9h2eejS3RJeVfdtrGzuGyd8CX7Yq6ExuCH63jaVMPkFOv6OibB6DKs2+VEQp+WYBoqERn2sVWWRNN0YurIfeL14U6YkpkLYCSG6e0yqdCxvKBLIm5FgAEAV0nKuwMYRUsAAAAASUVORK5CYII="},"visualEntryPoint":""}